======================================= OpenCV ubuntu linux setup =======================================

==== Installing OpenCV (once) ==== 

i. Required: Basic tools on build environment 

1.      go to this directory "{path to build environment}/Build-environment/libraries"

2.      open the terminal on this directory and type the following commands
2.1     sudo apt-get install build-essential
2.2     sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev
2.3     sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev
2.4     git clone https://github.com/opencv/opencv.git

3.      go to the newly made opencv folder with the command: cd opencv
4.      make a new directory named "release" with the command: mkdir release
4.1     go to the newly made opencv folder with the command: cd release 
5.      execute the command: cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local ..

6.      Make and install the library with the following commands
6.1     make
6.2     sudo make install 

==== Using OpenCV in build environment ====

ii. Required: OpenCV installed correctly 

7.      link openCV in build envoirment as followed:
7.1     go to your module and search for the file "CMakeList.txt"
7.2     open the file and look for the project name in line: "project({some name})"
            - this name is importsnt for the next steps

7.3     add the following code between the lines "include(../../flags.cmake)" and "include_directories(${CMAKE_CURRENT_SOURCE_DIR}/src)"
            - code:
            add_library(OpenCV SHARED IMPORTED)
            set_property(TARGET OpenCV PROPERTY IMPORTED_LOCATION "/usr/local/lib")
            find_package( OpenCV REQUIRED )
            include_directories("{path to folder in step 1.}/opencv/include/opencv2/")

7.4    add the following code at the end of the file (so after the comment: "add_executable(${exe_name} ${sources})" )
            - code:
            target_link_libraries( {name of project in step 7.2} ${OpenCV_LIBS} )

8.     you can now use openCV by #including it with he path: "opencv2/opencv.hpp" or "opencv2/{module_name}.hpp" --> ex: "opencv2/core.hpp"

==== *optional* Installing extra OpenCV modules ====
iii. Required: QT5. Install with the command: sudo apt install qt5-default

9.     go to the directory you made in step 1. 
10.    run the following command: git clone https://github.com/opencv/opencv_contrib.git
            - this will make folder "opencv_contrib"
11.    make a new directory named "build" in "{direcotry step 1}/opencv"
11.1        with command: cd /{direcotry step 1}/opencv; mkdir build
12.    go to this direcotry with : cd build

13.    initialize cmake for COMPLETE install or MINIMAL install.
            - COMPLETE will install all of the modules and takes about 30-40min on a SSD / 1+hour on a HDD
            - MINIMAL will install some modules and skip the legacy features and takes about 10-20min on a SDD / 40+min on a HDD
                - see legacy features: https://docs.opencv.org/2.4/modules/legacy/doc/legacy.html  

13.1   if COMPLETE: goto 14a
13.2   if MINIMAL: goto 14b

14a.   COMPLETE initlization execute the following command: 
       cmake -D WITH_TBB=ON -D INSTALL_C_EXAMPLES=ON -D WITH_EIGEN=OFF -D BUILD_EXAMPLES=ON -D WITH_QT=ON -D WITH_OPENGL=ON -D OPENCV_EXTRA_MODULES_PATH= {path of step 10.}/opencv_contrib/modules

14b.   MINIMAL initlization execute the following command: 
       cmake -D WITH_TBB=ON -D INSTALL_C_EXAMPLES=ON -D WITH_EIGEN=OFF -D BUILD_EXAMPLES=ON -D WITH_QT=ON -D WITH_OPENGL=ON -DBUILD_opencv_legacy=OFF= {path of step 10.}/opencv_contrib/modules        

15.    run command: make 
           - This will take a while, please watch this in the main time: https://www.youtube.com/watch?v=N6U5a4n0_5E

16.    install with the command: sudo make install 


=== *REQUIRED* Config opencv with travis to prevent 'test fail'

17.    download the .travis.yml, BuildModule.cmake, CmakeList.txt, Sources.cmake and TestModule.cmake from: https://github.com/R2D2-2018/OBJECT_RECOGNITION/tree/feature-image-viewer
18.    replace exsisting files with these.   

=========================================================================================================


